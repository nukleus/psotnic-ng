<html>
  <head>
    <title>psotnic &raquo; Compiling</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
<h3 id="toc0"><strong>Requirements for compiling:</strong></h3>

<ul>
    <li><a class="wiki_link_ext" href="http://www.gnu.org/software/make/" rel="nofollow">GNU make</a></li>
    <li><a class="wiki_link_ext" href="http://gcc.gnu.org/" rel="nofollow">gcc </a>and <a class="wiki_link_ext" href="http://gcc.gnu.org/" rel="nofollow">g++</a>, both are part of the GNU Compiler Collection</li>
    <li><a class="wiki_link_ext" href="http://www.perl.org/" rel="nofollow">perl</a>, the Practical Extraction and Report Language</li>
    <li><a class="wiki_link_ext" href="http://www.gnu.org/software/gawk/" rel="nofollow">GNU awk</a></li>
    <li>Linux, BSD, UNIX-like OSes or <a class="wiki_link_ext" href="http://cygwin.com" rel="nofollow">Cygwin (MS Windows)</a></li>
</ul>

<br />
<h3 id="toc1">Optional stuff:</h3>

<ul>
    <li><a class="wiki_link_ext" href="http://subversion.tigris.org/" rel="nofollow">Subversion</a>, the source version control system</li>
    <li><a class="wiki_link_ext" href="http://openssl.org/" rel="nofollow">OpenSSL</a> with development files</li>
</ul>

<br />
If you are interested in compiling psotnic on <a class="wiki_link_ext" href="http://openwrt.org" rel="nofollow">openwrt</a> please <a class="wiki_link" href="Compiling_Embedded%20.html">read on this</a>.<br />
<br />
<h3 id="toc2"><strong>Compiling:</strong></h3>
1. Login into your shell and check if you have the requirements installed<br />
2. Download the source from the psotnic project page on sourceforge or psotnic.com using <em>wget</em><br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">wget http://www.psotnic.com/src/psotnic-0.2.14.tar.gz</pre>

or checkout psotnic SVN repository and proceed to step 4<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">svn co https://psotnic.svn.sourceforge.net/svnroot/psotnic psotnic</pre>

3. Extract the archive<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">tar xzf psotnic-0.2.14.tar.gz</pre>

4. Enter into the directory<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">cd psotnic-0.2.14</pre>

5. Run configure script<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">./configure</pre>

6. If you don't need modules then compile it as <em>static</em> else as <em>dynamic</em> (for debugging use <em>debug</em>):<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">make dynamic</pre>

7. Enter into <em>bin</em> directory and check for psotnic executable<br />

<style type="text/css"><!--
/* GeSHi (c) Nigel McNie 2004 (http://qbnz.com/highlighter) */
.text .imp {font-weight: bold; color: red;}

-->
</style><pre class="text">cd bin
./psotnic -v</pre>

8. You will get something like that:<br />
<br />
<em>Psotnic C++ edition, version current-2007/07/05-ipv6 (Aug 18 2007 13:32:31)<br />
Copyright (C) 2003-2007 Grzegorz Rusin &lt;<a class="wiki_link_ext" href="mailto:grusin@gmail.com" rel="nofollow">grusin@gmail.com</a>&gt;</em><br />
<br />
9. Done here, proceed to <a class="wiki_link" href="Config%20File.html">Config file</a><br />
<br />
There's also a video available that shows how <a href="http://psotnic.wiki.sourceforge.net/space/showimage/CompilingPsotnic.gif" rel="nofollow">compiling psotnic</a> works.<br />
<br />
<h3 id="toc3">configure options</h3>
While the above part was a simple and fast way to compile the standard bot, you may want to customize it a bit. This can be done by passing some extra options to the configure script:<br />


<table class="wiki_table">
    <tr>
        <td>--with-antiptrace</td>
        <td>Enables ptrace protection - currently not completly implemented and thus not working.</td>
    </tr>
    <tr>
        <td>--no-irc-backtrace</td>
        <td>Disables the generation of irc backtraces if the bot crashes.</td>
    </tr>
    <tr>
        <td>--little-endian</td>
        <td>Forces little endianess,</td>
    </tr>
    <tr>
        <td>--big-endian</td>
        <td>Forces big endianess.</td>
    </tr>
    <tr>
        <td>--cc-prefix</td>
        <td>Specify a prefix for the compiler binary.</td>
    </tr>
    <tr>
        <td>--cc-options</td>
        <td>Passes extra options to the compiler.</td>
    </tr>
    <tr>
        <td>--ld-options</td>
        <td>Passes extra options to the linker.</td>
    </tr>
    <tr>
        <td>--disable-adns</td>
        <td>Disables the asynchronous DNS resolver.</td>
    </tr>
    <tr>
        <td>--with-ssl</td>
        <td>Enables the use of ssl encrypted connections. Also see the <strong>Warning</strong> below the table.</td>
    </tr>
    <tr>
        <td>--with-firedns</td>
        <td>Enabled the optional FireDNS asynchronous DNS resolver</td>
    </tr>
</table>

Warning:<br />
When using <em>--with-ssl</em>, you <u><strong>have</strong></u> to provide a &quot;ssl_listen &lt;port&gt;&quot; line in the config file. Otherwise, the bot will run into an endless loop and has to be killed manually.<br />
<h3 id="toc4">Extra targets</h3>
The makefile has some extra targets. Those are:<br />

<ul>
    <li>debug</li>
    <li>static</li>
    <li>apidox</li>
</ul>

<br />
The debug target compiles psotnic with extra debugging support. if you start it with the -d option, then it won't go to background, but instead will print out everything to the terminal.<br />
<br />
If you don't want to load modules, then you can build it with the static target. This way, you'll get a version that is not able to load modules.<br />
<br />
The last target, apidox, is used to compile the API documentation. To do this, you need a recent version of doxygen. After running this target, you'll find a new folder &quot;html&quot; in the docs subfolder, which contains the documentation ready for viewing in your favourite browser.
    </div>
  </body>
</html>